<div class="input-action">
  <form class="input-action__form stepper-form">
    <mat-form-field>
      <input matInput placeholder="Email" [formControl]="emailFormControl" #inputElement [name]="position">
      <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="emailFormControl.hasError('required')">
        Email is required
      </mat-error>
      <mat-error *ngIf="emailFormControl.hasError('notUnique') && !emailFormControl.hasError('email')">
        Email is not unique
      </mat-error>
    </mat-form-field>
  </form>
  <div class="input-action__detail">
    <mat-icon *ngIf="showRemove" class="input-action__detail__remove" [ngClass]="{'disabled': emailFormControl.disabled}" (click)="!emailFormControl.disabled && remove.emit()" [matTooltip]="'Remove'">indeterminate_check_box</mat-icon>
    <ng-container *ngIf="state && result && (state.result === result.SUCCEEDED || state.result === result.FAILED)" class="input-action__detail__result">
      <app-boolean-indicator [isTrue]="state.result === result.SUCCEEDED" type="succeeded-failed" [subtle]="false" [showText]="false"></app-boolean-indicator>
      <span>{{ state.message }}</span>
    </ng-container>
  </div>
</div>